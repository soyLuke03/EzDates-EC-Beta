"use strict";(self.webpackChunkEzDates=self.webpackChunkEzDates||[]).push([[220],{8220:(B,g,s)=>{s.r(g),s.d(g,{LogsModule:()=>Q});var u=s(6895),l=s(9299),v=s(5226),d=s.n(v),e=s(4650),b=s(2891),p=s(529);let f=(()=>{class n{constructor(t){this.http=t,this.url="https://ezdatesbeta-production.up.railway.app/signin",this.urlVerify="https://ezdatesbeta-production.up.railway.app/verify",this.httpOptions={headers:new p.WM({"Content-Type":"application/json"})}}verify(t,o){return this.http.get(`${this.urlVerify}?code=${o}&user=${t}`)}login(t,o){return this.http.post(this.url,{username:t,password:o},this.httpOptions)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var r=s(4006);const Z=["myForm"];function C(n,i){1&n&&(e.TgZ(0,"span",20),e._uU(1," Username is required "),e.qZA())}function w(n,i){1&n&&(e.TgZ(0,"span",20),e._uU(1," Password is required "),e.qZA())}const y=function(){return["/logs/register"]};let x=(()=>{class n{constructor(t,o,a){this.router=t,this.auth=o,this.lS=a,this.errorLogin="",this.username="",this.password=""}ngOnInit(){localStorage.removeItem("token")}login(){this.username=this.username.toLocaleLowerCase(),this.lS.login(this.username,this.password).subscribe({next:t=>{}}),this.auth.login(this.username,this.password).subscribe({next:t=>{t&&(this.router.navigate(["/posts"]),d().fire({title:"Log in",text:"Click 'OK' to agree the terms and conditions of our website",background:"linear-gradient(200deg, rgba(2,0,36,1) 0%, rgba(255,0,0,0.9284664549413515) 70%)",color:"white",confirmButtonColor:"black",confirmButtonText:"OK",allowOutsideClick:!1}).then(o=>{o.isConfirmed&&location.reload()}))}})}notValid(t){return this.myForm?.controls[t]?.invalid&&this.myForm?.controls[t]?.touched}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.F0),e.Y36(b.e),e.Y36(f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],viewQuery:function(t,o){if(1&t&&e.Gf(Z,5),2&t){let a;e.iGM(a=e.CRH())&&(o.myForm=a.first)}},decls:39,vars:7,consts:[[1,"container-flex","center","backBlack","white"],[1,"row"],[1,"col-sm-12","col-md-8","col-lg-5","center"],["method","post",1,"border-form",3,"ngSubmit"],["myForm","ngForm"],[1,"container"],[1,"col-md-12","col-lg-2","center"],[1,"form-label"],[1,"col-md-12","col-lg-10","center"],["required","","type","text","id","username","name","username","minlength","1","placeholder","My Username",1,"form-control","input",3,"ngModel","ngModelChange"],["class","form-text text-danger",4,"ngIf"],["required","","type","password","id","password","name","password","minlength","1","placeholder","My Password",1,"sepparate","form-control","input",3,"ngModel","ngModelChange"],[1,"row","div-botones"],[1,"col-md-3","col-sm-3"],[1,"col-md-2","col-sm-2"],["type","submit","value","Login",1,"botones","btn","btn-success",3,"disabled"],[1,"col-md-1","col-sm-1"],["type","reset","value","Cancel",1,"botones","btn","btn-danger"],[1,"col-md-12"],["routerLinkActive","active",3,"routerLink"],[1,"form-text","text-danger"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),e._uU(4,"Login"),e.qZA(),e.TgZ(5,"form",3,4),e.NdJ("ngSubmit",function(){return o.login()}),e.TgZ(7,"div",5)(8,"div",1)(9,"div",6)(10,"label",7),e._uU(11,"*Username"),e.qZA(),e._UZ(12,"br"),e.qZA(),e.TgZ(13,"div",8)(14,"input",9),e.NdJ("ngModelChange",function(c){return o.username=c}),e.qZA(),e.YNc(15,C,2,0,"span",10),e.qZA()(),e.TgZ(16,"div",1)(17,"div",6)(18,"label",7),e._uU(19,"*Password"),e.qZA(),e._UZ(20,"br"),e.qZA(),e.TgZ(21,"div",8)(22,"input",11),e.NdJ("ngModelChange",function(c){return o.password=c}),e.qZA(),e.YNc(23,w,2,0,"span",10),e.qZA()(),e.TgZ(24,"div",12),e._UZ(25,"div",13),e.TgZ(26,"div",14),e._UZ(27,"input",15),e.qZA(),e._UZ(28,"div",16)(29,"div",16),e.TgZ(30,"div",14),e._UZ(31,"input",17),e.qZA(),e._UZ(32,"div",13),e.qZA(),e.TgZ(33,"div",1)(34,"div",18)(35,"p"),e._uU(36,"You don't have an account? "),e.TgZ(37,"a",19),e._uU(38,"Register now"),e.qZA()()()()()()()()()),2&t){const a=e.MAs(6);e.xp6(14),e.Q6J("ngModel",o.username),e.xp6(1),e.Q6J("ngIf",o.notValid("username")||o.errorLogin),e.xp6(7),e.Q6J("ngModel",o.password),e.xp6(1),e.Q6J("ngIf",o.notValid("password")||o.errorLogin),e.xp6(4),e.Q6J("disabled",a.invalid),e.xp6(10),e.Q6J("routerLink",e.DdM(6,y))}},dependencies:[u.O5,l.yS,l.Od,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.wO,r.On,r.F],styles:[".center[_ngcontent-%COMP%]{text-align:center;margin:auto}input[_ngcontent-%COMP%]{text-align:center}.row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:5px}.botones[_ngcontent-%COMP%]{min-width:80px}.border-form[_ngcontent-%COMP%]{border:5px;border-style:outset;border-radius:25px}.row[_ngcontent-%COMP%]{margin-top:30px}.div-botones[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.input[_ngcontent-%COMP%]{margin:auto;width:95%}.white[_ngcontent-%COMP%]{color:#f0f8ff}"]}),n})();const T=function(){return["/posts/list"]};let M=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}logout(){localStorage.removeItem("token"),this.router.navigate(["logs/login"]),d().fire({title:"Loging out",text:"You've been logged out",background:"linear-gradient(200deg, rgba(2,0,36,1) 0%, rgba(255,0,0,0.9284664549413515) 70%)",color:"white",confirmButtonColor:"black",confirmButtonText:"OK",allowOutsideClick:!1}).then(t=>{t.isConfirmed&&location.reload()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-logout"]],decls:17,vars:2,consts:[[1,"container","white"],[1,"row"],[1,"col-sm-12","col-md-8","center"],[1,""],[1,"container","center"],[1,"col-6"],[3,"click"],[1,"btn","btn-success","botones"],[3,"routerLink"],[1,"btn","btn-danger","botones"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"div",1)(6,"h3"),e._uU(7,'"Are you sure you want to log out?"'),e.qZA()(),e.TgZ(8,"div",1)(9,"div",5)(10,"a",6),e.NdJ("click",function(){return o.logout()}),e.TgZ(11,"button",7),e._uU(12,"Log out"),e.qZA()()(),e.TgZ(13,"div",5)(14,"a",8)(15,"button",9),e._uU(16,"Return"),e.qZA()()()()()()()()()),2&t&&(e.xp6(14),e.Q6J("routerLink",e.DdM(1,T)))},dependencies:[l.yS,r._Y,r.JL,r.F],styles:[".center[_ngcontent-%COMP%]{text-align:center;margin:auto}input[_ngcontent-%COMP%]{text-align:center}.row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:5px}.botones[_ngcontent-%COMP%]{min-width:80px}.border-form[_ngcontent-%COMP%]{border:5px;border-style:outset;border-radius:25px}.row[_ngcontent-%COMP%]{margin-top:30px}.div-botones[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.input[_ngcontent-%COMP%]{margin:auto;width:95%}.white[_ngcontent-%COMP%]{color:#f0f8ff}"]}),n})();var O=s(6335);function q(n,i){1&n&&(e.TgZ(0,"span",29),e._uU(1," Username is required. "),e.qZA())}function P(n,i){1&n&&(e.TgZ(0,"span",29),e._uU(1," Email is required. "),e.qZA())}function U(n,i){1&n&&(e.TgZ(0,"span",29),e._uU(1," Name is too long. "),e.qZA())}function L(n,i){1&n&&(e.TgZ(0,"span",29),e._uU(1," Surname is required. "),e.qZA())}function A(n,i){1&n&&(e.TgZ(0,"span",29),e._uU(1," Password is required and longer than 8 characters. "),e.qZA())}function k(n,i){1&n&&(e.TgZ(0,"span",29),e._uU(1," Password is required and longer than 8 characters. "),e.qZA())}function I(n,i){1&n&&(e.TgZ(0,"span",29),e._uU(1," Password do not match "),e.qZA())}const J=function(){return["/logs/login"]},h=function(){return["/logs/login"]};function R(n,i){1&n&&(e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"h1"),e._uU(4,"GREAT"),e.qZA(),e._UZ(5,"hr"),e.TgZ(6,"p"),e._uU(7,"Now, your account has been verified"),e.qZA(),e.TgZ(8,"p"),e._uU(9,"Now you may close this window."),e.qZA(),e.TgZ(10,"a",5)(11,"button",6),e._uU(12,"Return to login"),e.qZA()()()()()),2&n&&(e.xp6(10),e.Q6J("routerLink",e.DdM(1,h)))}function N(n,i){1&n&&(e.TgZ(0,"div",7)(1,"div",3)(2,"div",4)(3,"h1"),e._uU(4,"Oh no"),e.qZA(),e._UZ(5,"hr"),e.TgZ(6,"p"),e._uU(7,"This account do not exists..."),e.qZA(),e.TgZ(8,"p"),e._uU(9,"Or maybe an error has occurred"),e.qZA(),e.TgZ(10,"a",5)(11,"button",8),e._uU(12,"Return to login"),e.qZA()(),e._UZ(13,"br")(14,"br"),e.qZA()()()),2&n&&(e.xp6(10),e.Q6J("routerLink",e.DdM(1,h)))}const S=[{path:"",children:[{path:"login",component:x},{path:"logout",component:M},{path:"register",component:(()=>{class n{constructor(t,o,a){this.fb=t,this.router=o,this.uS=a,this.errorPasswords="",this.myForm=this.fb.group({username:[null,[r.kI.required,r.kI.maxLength(199)]],email:[null,[r.kI.required,r.kI.email,r.kI.maxLength(199)]],name:[null,[r.kI.required,r.kI.maxLength(199)]],surname:[null,[r.kI.required,r.kI.maxLength(199)]],password:[null,[r.kI.required,r.kI.maxLength(199),r.kI.minLength(8)]],password2:[null,[r.kI.required,r.kI.maxLength(199),r.kI.minLength(8)]]}),this.save=c=>{let m={username:this.myForm.controls.username.value,email:this.myForm.controls.email.value,password:this.myForm.controls.password.value,name:this.myForm.controls.name.value,surname:this.myForm.controls.surname.value,verificationCode:"",enabled:!1,role:"USER_ROLE"};this.equalsPasswords()&&(m.username=m.username.toLowerCase(),this.uS.register(m).subscribe({next:_=>d().fire({title:"Created",text:"Your profile has been created succesfully. Now check your email and verify",background:"linear-gradient(200deg, rgba(2,0,36,1) 0%, rgba(255,0,0,0.9284664549413515) 70%)",color:"white",confirmButtonColor:"black",confirmButtonText:"OK"}),error:_=>{console.log(_),d().fire({title:"An error has appeared",text:"The profile cannot be created. Try again later or contact with an admin",background:"linear-gradient(200deg, rgba(2,0,36,1) 0%, rgba(255,0,0,0.9284664549413515) 70%)",color:"white",confirmButtonColor:"black",confirmButtonText:"OK"})}}),this.myForm.reset(),this.errorPasswords="",this.router.navigate(["logs/login"])),this.equalsPasswords()||(d().fire({icon:"error",title:"Passwords do not match",background:"linear-gradient(200deg, rgba(2,0,36,1) 0%, rgba(255,0,0,0.9284664549413515) 70%)",color:"white",confirmButtonColor:"black",confirmButtonText:"OK"}),this.errorPasswords="Password do not match")}}ngOnInit(){}notValid(t){return this.myForm?.controls[t]?.invalid&&this.myForm?.controls[t]?.touched}equalsPasswords(){return this.myForm.controls.password.value==this.myForm.controls.password2.value}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(l.F0),e.Y36(O.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],decls:67,vars:11,consts:[[1,"container","center","backBlack","white"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6","col-sm-12"],[1,"container","border-form"],[1,"col-lg-2","col-md-12","col-sm-12"],[1,"form-label"],[1,"col-lg-10","col-md-12","col-sm-12"],["required","","type","text","id","username","name","username","formControlName","username","placeholder","exampleUser",1,"sepparate","form-control","input"],["class","form-text text-danger",4,"ngIf"],[1,"col-lg-2","col-md-12"],[1,"col-lg-10","col-md-12"],["required","","type","email","id","email","name","email","formControlName","email","placeholder","example@example.com",1,"sepparate","form-control","input"],["type","text","id","name","name","name","formControlName","name","placeholder","example name",1,"sepparate","form-control","input"],["required","","type","text","id","surname","name","surname","formControlName","surname","placeholder","example surname",1,"sepparate","form-control","input"],["type","hidden","id","verCode","name","verCode","placeholder","verCode",1,"sepparate","form-control","input"],["value","false","type","hidden","id","enabled","name","enabled","placeholder","enabled",1,"sepparate","form-control","input"],["value","USER_ROLE","type","hidden","id","rol","name","rol","placeholder","rol",1,"sepparate","form-control","input"],[1,"col-md-12"],["required","","type","password","id","password","name","password","formControlName","password","placeholder","Enter your password here...",1,"sepparate","form-control","input"],["required","","type","password","id","password2","name","password2","formControlName","password2","placeholder","Repeat your password here...",1,"sepparate","form-control","input"],[1,"row","div-botones"],[1,"col-lg-2","d-none","d-lg-block"],[1,"col-lg-2","col-md-6"],["type","submit","value","Register",1,"botones","btn","btn-success",3,"disabled"],[1,"col-lg-1","d-none","d-lg-block"],[3,"routerLink"],["type","reset","value","Cancel",1,"botones","btn","btn-danger"],[1,"col-lg-3","d-none","d-lg-block"],[1,"form-text","text-danger"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2,"Register form"),e.qZA(),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(c){return o.save(c)}),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",2)(8,"div",5)(9,"label",6),e._uU(10,"*Username"),e.qZA()(),e.TgZ(11,"div",7),e._UZ(12,"input",8),e.YNc(13,q,2,0,"span",9),e.qZA()(),e.TgZ(14,"div",2)(15,"div",10)(16,"label",6),e._uU(17,"*Email"),e.qZA()(),e.TgZ(18,"div",11),e._UZ(19,"input",12),e.YNc(20,P,2,0,"span",9),e.qZA()(),e.TgZ(21,"div",2)(22,"div",10)(23,"label",6),e._uU(24,"*Name"),e.qZA()(),e.TgZ(25,"div",11),e._UZ(26,"input",13),e.YNc(27,U,2,0,"span",9),e.qZA()(),e.TgZ(28,"div",2)(29,"div",10)(30,"label",6),e._uU(31,"*Surname"),e.qZA()(),e.TgZ(32,"div",11),e._UZ(33,"input",14),e.YNc(34,L,2,0,"span",9),e.qZA()(),e._UZ(35,"input",15)(36,"input",16)(37,"input",17),e.qZA()(),e.TgZ(38,"div",3)(39,"div",4)(40,"div",2)(41,"div",18)(42,"label",6),e._uU(43,"*Password"),e.qZA()(),e.TgZ(44,"div",18),e._UZ(45,"input",19),e.YNc(46,A,2,0,"span",9),e.qZA()(),e.TgZ(47,"div",2)(48,"div",18)(49,"label",6),e._uU(50,"*Repeat Password"),e.qZA()(),e.TgZ(51,"div",18),e._UZ(52,"input",20),e.YNc(53,k,2,0,"span",9),e.qZA(),e.YNc(54,I,2,0,"span",9),e.qZA()(),e._UZ(55,"br"),e.TgZ(56,"div",21),e._UZ(57,"div",22),e.TgZ(58,"div",23),e._UZ(59,"input",24),e.qZA(),e._UZ(60,"div",25)(61,"div",25),e.TgZ(62,"div",23)(63,"a",26)(64,"button",27),e._uU(65," Cancel "),e.qZA()()(),e._UZ(66,"div",28),e.qZA()()()()()),2&t&&(e.xp6(3),e.Q6J("formGroup",o.myForm),e.xp6(10),e.Q6J("ngIf",o.notValid("username")),e.xp6(7),e.Q6J("ngIf",o.notValid("email")),e.xp6(7),e.Q6J("ngIf",o.notValid("name")),e.xp6(7),e.Q6J("ngIf",o.notValid("surname")),e.xp6(12),e.Q6J("ngIf",o.notValid("password")),e.xp6(7),e.Q6J("ngIf",o.notValid("password2")),e.xp6(1),e.Q6J("ngIf",!o.equalsPasswords()),e.xp6(5),e.Q6J("disabled",o.myForm.invalid),e.xp6(4),e.Q6J("routerLink",e.DdM(10,J)))},dependencies:[u.O5,l.yS,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u],styles:[".center[_ngcontent-%COMP%]{text-align:center;margin:auto}input[_ngcontent-%COMP%]{text-align:center}.row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:5px}.botones[_ngcontent-%COMP%]{min-width:80px}.border-form[_ngcontent-%COMP%]{border:5px;border-style:outset;border-radius:25px}.row[_ngcontent-%COMP%]{margin-top:30px}.div-botones[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.input[_ngcontent-%COMP%]{margin:auto;width:95%}.white[_ngcontent-%COMP%]{color:#f0f8ff}"]}),n})()},{path:"verify",component:(()=>{class n{constructor(t,o){this.lS=t,this.aCRoute=o,this.error=""}ngOnInit(){let t=this.aCRoute.snapshot.queryParams.code,o=this.aCRoute.snapshot.queryParams.user;console.log(t,o),null!=t&&null!=o?(this.lS.verify(o,t).subscribe({next:a=>{this.error=""},error:a=>{this.error="1"}}),this.error=""):this.error="1"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f),e.Y36(l.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-verify"]],decls:2,vars:2,consts:[["class","container-flex white backBlack",4,"ngIf"],["class","container- white backBlack",4,"ngIf"],[1,"container-flex","white","backBlack"],[1,"row"],[1,"col-lg-4","center"],[3,"routerLink"],[1,"btn","btn-success"],[1,"container-","white","backBlack"],[1,"botones","btn","btn-success"]],template:function(t,o){1&t&&(e.YNc(0,R,13,2,"div",0),e.YNc(1,N,15,2,"div",1)),2&t&&(e.Q6J("ngIf",!o.error),e.xp6(1),e.Q6J("ngIf",o.error))},dependencies:[u.O5,l.yS],styles:[".center[_ngcontent-%COMP%]{text-align:center;margin:auto}input[_ngcontent-%COMP%]{text-align:center}.row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:5px}.botones[_ngcontent-%COMP%]{min-width:80px}.border-form[_ngcontent-%COMP%]{border:5px;border-style:outset;border-radius:25px}.row[_ngcontent-%COMP%]{margin-top:30px}.div-botones[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:auto}.input[_ngcontent-%COMP%]{margin:auto;width:95%}.white[_ngcontent-%COMP%]{color:#f0f8ff}"]}),n})()},{path:"**",redirectTo:"login"}]}];let Y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.Bz.forChild(S)]}),n})(),Q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,Y,l.Bz,r.u5,r.UX]}),n})()}}]);